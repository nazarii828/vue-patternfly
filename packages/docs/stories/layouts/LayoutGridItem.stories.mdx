import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';

import { markRaw } from 'vue';
import { PfGrid, PfGridItem } from '@vue-patternfly/core';
import PfSkeleton from '@vue-patternfly/core';

export const Template = (args) => ({
  components: { PfGrid, PfGridItem },
  setup() {
    return { args };
  },
  template: `
    <pf-grid-item v-bind="args">
      span = {{ args.span }}, rowSpan = {{ args.rowSpan }}
    </pf-grid-item>
  `,
});


<Meta title="Layouts/Grid Item" component={PfGridItem} subcomponents={{PfGrid}} />

# PfGridItem `pf-grid-item`

## Examples

### Basic

The dashed lines are not part of the component and are only for visual separation in the documentation. The highlighted item with green lines is the one controlled by the story.

<Canvas>
  <Story
    name="Basic"
    args={{
      span: 2,
      rowSpan: 3,
    }}
    decorators={[
      () => ({
        components: { PfGrid, PfGridItem },
        template: `
          <pf-grid gutter class="docs-layout-outline">
            <pf-grid-item span="8">
              span = 8
            </pf-grid-item>
            <pf-grid-item span="4" row-span="2">
              span = 4, rowSpan = 2
            </pf-grid-item>
            <story style="border-color: var(--pf-global--palette--green-300)" />
            <pf-grid-item span="2">
              span = 2
            </pf-grid-item>
            <pf-grid-item span="4">
              span = 4
            </pf-grid-item>
            <pf-grid-item span="2">
              span = 2
            </pf-grid-item>
            <pf-grid-item span="2">
              span = 2
            </pf-grid-item>
            <pf-grid-item span="2">
              span = 2
            </pf-grid-item>
            <pf-grid-item span="4">
              span = 4
            </pf-grid-item>
            <pf-grid-item span="2">
              span = 2
            </pf-grid-item>
            <pf-grid-item span="4">
              span = 4
            </pf-grid-item>
            <pf-grid-item span="4">
              span = 4
            </pf-grid-item>
          </pf-grid>
        `,
      }),
    ]}>
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Basic" />

### Skeleton items

We can use `PfSkeleton` as the `component` prop of each `pf-grid-item` to create a skeleton layout.

<Canvas>
  <Story
    name="Skeleton items"
    args={{
      span: 2,
      rowSpan: 3,
      component: PfSkeleton,
    }}
    decorators={[
      () => ({
        components: { PfGrid, PfGridItem },
        setup() {
          return {
            component: markRaw(PfSkeleton),
          };
        },
        template: `
          <!-- storybook wants to transform the root element to a skeleton itself, so we give it a div to play with -->
          <div>
            <pf-grid gutter>
              <pf-grid-item :component="component" span="8">
                span = 8
              </pf-grid-item>
              <pf-grid-item :component="component" span="4" row-span="2">
                span = 4, rowSpan = 2
              </pf-grid-item>
              <story style="border-color: var(--pf-global--palette--green-300)" />
              <pf-grid-item :component="component" span="2" />
              <pf-grid-item :component="component" span="4">
                span = 4
              </pf-grid-item>
              <pf-grid-item :component="component" span="2">
                span = 2
              </pf-grid-item>
              <pf-grid-item :component="component" span="2">
                span = 2
              </pf-grid-item>
              <pf-grid-item :component="component" span="2">
                span = 2
              </pf-grid-item>
              <pf-grid-item :component="component" span="4">
                span = 4
              </pf-grid-item>
              <pf-grid-item :component="component" span="2">
                span = 2
              </pf-grid-item>
              <pf-grid-item :component="component" span="4">
                span = 4
              </pf-grid-item>
              <pf-grid-item :component="component" span="4">
                span = 4
              </pf-grid-item>
            </pf-grid>
          </div>
        `,
      }),
    ]}>
    {Template.bind({})}
  </Story>
</Canvas>
